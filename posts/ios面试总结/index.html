<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="iOS面试题" /><meta name="author" content="ralbatr" /><meta property="og:locale" content="en_US" /><meta name="description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><meta property="og:description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><link rel="canonical" href="https://ralbatr.github.io/posts/ios%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" /><meta property="og:url" content="https://ralbatr.github.io/posts/ios%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" /><meta property="og:site_name" content="ralbatr" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-02-17T05:05:28+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="iOS面试题" /><meta name="twitter:site" content="@ralbatr" /><meta name="twitter:creator" content="@ralbatr" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"ralbatr"},"headline":"iOS面试题","dateModified":"2022-02-17T05:05:28+08:00","datePublished":"2022-02-17T05:05:28+08:00","description":"A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation.","url":"https://ralbatr.github.io/posts/ios%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/","mainEntityOfPage":{"@type":"WebPage","@id":"https://ralbatr.github.io/posts/ios%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/"},"@type":"BlogPosting","@context":"https://schema.org"}</script><title>iOS面试题 | ralbatr</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://img2.doubanio.com/icon/ul55568196-3.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">ralbatr</a></div><div class="site-subtitle font-italic">一个写博客的地方</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>主页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ralbatr" aria-label="github" class="order-3" target="_blank" rel="noopener" > <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/ralbatr" aria-label="twitter" class="order-4" target="_blank" rel="noopener" > <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>iOS面试题</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel">Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>iOS面试题</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Feb 17, 2022, 5:05 AM +0800" > Feb 17 <i class="unloaded">2022-02-17T05:05:28+08:00</i> </span> by <span class="author"> ralbatr </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4453 words">24 min</span></div></div><div class="post-content"><hr /><h4 id="讲讲gcd">讲讲GCD</h4><h4 id="gcd是用来解决多线程编程的这是一个比较底层高效的apiios4就可以使用了平时用的的比较多是在子线程完成数据的请求在主线程渲染">GCD是用来解决多线程编程的。这是一个比较底层、高效的API，iOS4就可以使用了。平时用的的比较多是，在子线程完成数据的请求，在主线程渲染。</h4><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>dispatch_sync(dispatch_get_main_queue()
</pre></table></code></div></div><h4 id="简述nsoperationqueue与gcd的区别">简述NSOperationQueue与GCD的区别</h4><h4 id="1-gcd是底层的c语言构成的apinsoperationqueue及相关对象是objc对象在gcd中在队列中执行的是由block构成的任务这是一个轻量级的数据结构而operation作为一个对象为我们提供了更多的选择">(1) GCD是底层的C语言构成的API。NSOperationQueue及相关对象是Objc对象。在GCD中，在队列中执行的是由block构成的任务，这是一个轻量级的数据结构。而Operation作为一个对象，为我们提供了更多的选择。</h4><h4 id="2-在nsoperationqueue中我们可以取消任务而gcd没法停止已经加入queue的block">(2) 在NSOperationQueue中，我们可以取消任务，而GCD没法停止已经加入queue的block。</h4><h4 id="3-nsoperation能够方便的设置依赖关系还能设置nsoperation的priority优先级能够使同一个并行队列中的任务区分先后地执行在gcd中我们只能区分不同任务队列的优先级如果要区分block任务优先级也需要大量复杂代码">(3) NSOperation能够方便的设置依赖关系。还能设置NSOperation的priority优先级，能够使同一个并行队列中的任务区分先后地执行。在GCD中，我们只能区分不同任务队列的优先级，如果要区分block任务优先级也需要大量复杂代码。</h4><h4 id="nsoperation还可以设置并发数">NSOperation还可以设置并发数</h4><h4 id="实现多线程有哪几种方式">实现多线程有哪几种方式？</h4><h4 id="1nsthreaddetachnewthreadselector">（1）NSThread:detachNewThreadSelector:</h4><h4 id="2继承nsoperation">（2）继承NSOperation</h4><h4 id="3gcddispatch_async">（3）GCD：dispatch_async</h4><h4 id="ios中有哪些数据持久化方式吗请简要加以说明">iOS中有哪些数据持久化方式吗？请简要加以说明。</h4><h4 id="属性列表涉及的主要类是nsuserdefaults存储小量的数据">属性列表：涉及的主要类是NSUserDefaults，存储小量的数据。</h4><h4 id="文件归档对象必须实现nscoding协议实现initwithcoder方法与encodewithcoder方法同时也建议实现nscopying协议">文件归档：对象必须实现NSCoding协议。实现initWithCoder:方法与encodeWithCoder方法。同时也建议实现NSCopying协议。</h4><h4 id="sqlite3数据库sqlite是一个开源的嵌入式关系数据库可移植性好容易使用需要内存开销小适合嵌入式设备">SQLite3数据库:SQLite是一个开源的嵌入式关系数据库。可移植性好，容易使用，需要内存开销小。适合嵌入式设备。</h4><h4 id="coredata它可以使用sqlite保存数据而且不需要写sql语句另外它还可以使用xml方式保存数据要使用-coredata需要在xcode中的数据模型编辑器中设计好各个实体以及定义好他们的属性和关系通过操作这些对象来完成数据的持久化">CoreData：它可以使用SQLite保存数据，而且不需要写SQL语句。另外它还可以使用XML方式保存数据。要使用#### CoreData，需要在Xcode中的数据模型编辑器中设计好各个实体以及定义好他们的属性和关系。通过操作这些对象来完成数据的持久化。</h4><h4 id="简述category与extension的区别category与extension加载的时机">简述category与extension的区别。Category与extension加载的时机。</h4><h4 id="category中只能增加方法不可添加实例变量可添加属性在没有获取原来类的代码情况下添加方法比如给系统类加方法比如sdimage里给uibutton添加的分类extension不仅可以增加方法还可以增加实例变量或属性私有的在我们开发中的viewcontroller最上面的就是可见extension都是写在m文件中extension不能像category一样有独立的实现部分category是运行时决定的extension是编译期决定的">category中只能增加方法，不可添加实例变量（可添加属性），在没有获取原来类的代码情况下添加方法，比如给系统类加方法，比如SDImage里给UIButton添加的分类。extension不仅可以增加方法，还可以增加实例变量或属性（私有的），在我们开发中的viewcontroller最上面的就是，可见extension都是写在.m文件中。extension不能像category一样有独立的实现部分。category是运行时决定的。extension是编译期决定的。</h4><h4 id="类目的应用场景有哪些">类目的应用场景有哪些？</h4><h4 id="1可以把类的实现分开在几个不同的文件里面">（1）可以把类的实现分开在几个不同的文件里面</h4><h4 id="2声明私有方法">（2）声明私有方法</h4><h4 id="3模拟多继承">（3）模拟多继承</h4><h4 id="4把framework的私有方法公开">（4）把Framework的私有方法公开</h4><h4 id="load和initialize-的区别是什么">+load和+initialize 的区别是什么？</h4><h4 id="initialize第一次初始化这个类之前被调用我们用它来初始化静态变量">+initialize:第一次初始化这个类之前被调用，我们用它来初始化静态变量。</h4><h4 id="load方法会在加载类的时候就被调用也就是ios应用启动的时候就会加载所有的类">+load方法会在加载类的时候就被调用，也就是iOS应用启动的时候，就会加载所有的类。</h4><h4 id="initialize方法类似一个懒加载如果没有使用这个类系统默认不会去调用这个方法且默认只加载一次">+initialize方法类似一个懒加载，如果没有使用这个类，系统默认不会去调用这个方法，且默认只加载一次。</h4><h4 id="如果是在类别中load方法会全都执行但是类别中的load方法会后于类中的方法initialize方法会覆盖类中的方法只执行一个">如果是在类别中，+load方法会全都执行，但是类别中的load方法会后于类中的方法，+initialize方法会覆盖类中的方法，只执行一个。</h4><h4 id="initialize的调用发生在init方法之前子类会去调用父类的initialize方法">+initialize的调用发生在+init方法之前。子类会去调用父类的+initialize方法。</h4><h4 id="锁">锁</h4><h4 id="一般应用于多线程为了线程安全">一般应用于多线程，为了线程安全</h4><h4 id="自旋锁">自旋锁</h4><h4 id="没咋用不太熟">没咋用，不太熟</h4><h4 id="互斥锁">互斥锁</h4><h4 id="pthread_mutexnslock">pthread_mutex、NSLock</h4><h4 id="信号量">信号量</h4><h4 id="dispatch_semaphore">dispatch_semaphore</h4><h4 id="递归锁">递归锁</h4><h4 id="synchronized">@synchronized</h4><h4 id="ios用互斥锁比较多">iOS用互斥锁比较多</h4><h4 id="死锁四个条件">死锁四个条件</h4><h4 id="互斥一个资源每次只能被一个进程使用">互斥：一个资源每次只能被一个进程使用</h4><h4 id="请求与保持一个进程因请求资源而阻塞时对已获得的资源保持不放">请求与保持：一个进程因请求资源而阻塞时，对已获得的资源保持不放</h4><h4 id="不可抢夺进程已获得的资源在末使用完之前不能强行剥夺">不可抢夺:进程已获得的资源，在末使用完之前，不能强行剥夺</h4><h4 id="循环等待若干进程之间形成一种头尾相接的循环等待资源关系">循环等待:若干进程之间形成一种头尾相接的循环等待资源关系。</h4><h3 id="ios优化">iOS优化</h3><h4 id="删除无用资源图片音视频代码通过mach-o可以获得所有没有被使用的代码__text__data__objc_selrefs">删除无用资源(图片、音视频、代码),通过mach-o可以获得所有没有被使用的代码(__TEXT，__DATA__objc_selrefs)</h4><h4 id="保留资源压缩图片音视频jsshtml">保留资源压缩(图片、音视频、JSS/HTML)</h4><h4 id="静态库减少">静态库减少</h4><h4 id="optimization-level">Optimization Level</h4><h4 id="方法名属性名替换">方法名、属性名替换</h4><p><a href="https://ming1016.github.io/2017/06/12/gmtc-ios-slimming-practice/">滴滴这篇文章讲的很详细</a></p><h3 id="ios响应者链条">iOS响应者链条</h3><h3 id="离屏渲染">离屏渲染</h3><h4 id="一般刷新率是60hz即167ms需要更新一次页面当计算量比较大没有在167s完成就会造成卡顿造成gpu新开辟一块缓存去计算造成额外的开支">一般刷新率是60Hz，即16.7ms需要更新一次页面。当计算量比较大，没有在16.7s完成，就会造成卡顿。造成GPU新开辟一块缓存，去计算。造成额外的开支。</h4><h4 id="阴影设置圆角maskbounce">阴影、设置圆角maskbounce</h4><h3 id="详细的介绍了-kvc-和-kvo-的原理">详细的介绍了 KVC 和 KVO 的原理</h3><h4 id="kvc键值编程可以使用path对属性读取设置">KVC键值编程。可以使用path，对属性读取设置。</h4><h4 id="kvo-是oc观察者模式的一种实现">KVO 是oc观察者模式的一种实现。</h4><h4 id="通过runtime在代码编译的时候动态创建一个类在setget中添加valuewillchangevaluedidchange实现对值复制的观察改变所以直接通过_name这种下划线的方式赋值不会触发获取值的时候先找name找不到_name最后抛出异常">通过runtime在代码编译的时候，动态创建一个类，在set，get中添加，valueWillChange，valueDidChange，实现对值复制的观察改变。所以，直接通过_name这种下划线的方式赋值，不会触发。获取值的时候，先找name，找不到_name，最后抛出异常。</h4><h4 id="使用atomic一定是线程安全的吗">使用atomic一定是线程安全的吗？</h4><h4 id="只是针对取值和赋值线程安全">只是针对取值和赋值线程安全</h4><h4 id="数组的初始化赋值取值安全">数组的初始化，赋值，取值安全</h4><h4 id="数组的添加数据元素并非线程安全">数组的添加数据元素并非线程安全</h4><h4 id="bool-类型-修饰符不受到atomic或者noatomic影响">BOOL 类型 修饰符不受到atomic或者noatomic影响</h4><h4 id="通过uiimage-imagenamed生成的对象什么时候被释放">通过[UIImage imageNamed:]生成的对象什么时候被释放？</h4><h4 id="建议针对小图标场景出现较多图片此类方式加载会缓存到内存">建议针对小图标/场景出现较多图片（此类方式加载，会缓存到内存）</h4><h4 id="autoreleasepool-如果没有使用局部释放池并且在主线程则是当前主线程runloop一次循环结束前释放">@autoreleasepool 如果没有使用局部释放池，并且在主线程，则是当前主线程Runloop一次循环结束前释放。</h4><h4 id="imagewithcontentsoffile--加载适用于大图片不常用的图片一般无引用时候会释放">imageWithContentsOfFile ： 加载适用于大图片,不常用的图片,一般无引用时候,会释放</h4><h3 id="以-scheduledtimerwithtimeinterval的方式触发的timer在滑动页面上的列表时timer会暂定回调为什么如何解决">以+ scheduledTimerWithTimeInterval…的方式触发的timer，在滑动页面上的列表时，timer会暂定回调，为什么？如何解决？</h3><h4 id="runloop只能运行在一种mode下如果要换mode当前的loop也需要停下重启成新的利用这个机制scrollview滚动过程中nsdefaultrunloopmodekcfrunloopdefaultmode的mode会切换到uitrackingrunloopmode来保证scrollview的流畅滑动只能在nsdefaultrunloopmode模式下处理的事件会影响scrollview的滑动">RunLoop只能运行在一种mode下，如果要换mode，当前的loop也需要停下重启成新的。利用这个机制，ScrollView滚动过程中NSDefaultRunLoopMode（kCFRunLoopDefaultMode）的mode会切换到UITrackingRunLoopMode来保证ScrollView的流畅滑动：只能在NSDefaultRunLoopMode模式下处理的事件会影响ScrollView的滑动。</h4><h4 id="如果我们把一个nstimer对象以nsdefaultrunloopmodekcfrunloopdefaultmode添加到主运行循环中的时候-scrollview滚动过程中会因为mode的切换而导致nstimer将不再被调度">如果我们把一个NSTimer对象以NSDefaultRunLoopMode（kCFRunLoopDefaultMode）添加到主运行循环中的时候, ScrollView滚动过程中会因为mode的切换，而导致NSTimer将不再被调度。</h4><h4 id="同时因为mode还是可定制的所以">同时因为mode还是可定制的，所以：</h4><h4 id="timer计时会被scrollview的滑动影响的问题可以通过将timer添加到nsrunloopcommonmodeskcfrunloopcommonmodes来解决代码如下">Timer计时会被scrollView的滑动影响的问题可以通过将timer添加到NSRunLoopCommonModes（kCFRunLoopCommonModes）来解决。代码如下：</h4><h4 id="使用block时什么情况会发生引用循环如何解决">使用block时什么情况会发生引用循环，如何解决？</h4><h4 id="一个对象中强引用了-block在-block-中又强引用了该对象就会发生循环引用">一个对象中强引用了 block，在 block 中又强引用了该对象，就会发生循环引用。</h4><h4 id="arc-下的解决方法是">ARC 下的解决方法是：</h4><h4 id="1-将该对象使用-__weak-修饰符修饰之后再在-block-中使用-id-weak-weakself--self-或者-weak-__typeofselfweakself--self-该方法可以设置宏-__weak-不会产生强引用指向的对象销毁时会自动让指针置为-ni1">1、 将该对象使用 __weak 修饰符修饰之后再在 block 中使用。 id weak weakSelf = self; 或者 weak __typeof(&amp;*self)weakSelf = self 该方法可以设置宏 __weak ：不会产生强引用，指向的对象销毁时，会自动让指针置为 ni1</h4><h4 id="2-使用-unsafe_unretained-关键字用法与-__weak-一致-unsafe_unretained-不会产生强引用不安全指向的对象销毁时指针存储的地址值不变">2、 使用 unsafe_unretained 关键字，用法与 __weak 一致。 unsafe_unretained 不会产生强引用，不安全，指向的对象销毁时，指针存储的地址值不变</h4><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>__weak __typeof(self) weakSelf = self;
self.block = ^{
    __strong typeof(self) strongSelf = weakSelf;
    if (!strongSelf) {
         return;
    }
    NSLog(@"%@", @[strongSelf]);
};
self.block();
</pre></table></code></div></div><h4 id="weakself-是保证-block-内部作用域内不会产生循环引用">weakSelf 是保证 block 内部(作用域内)不会产生循环引用</h4><h4 id="strongself-是保证-block-内部作用域内-self-不会被-block释放">strongSelf 是保证 block 内部(作用域内) self 不会被 block释放</h4><h4 id="if-strongself--return-该代码作用因为-weak-指针指向的对象是可能被随时释放的为了防止-self-在-block-外部被释放比如其它线程内被释放">if (!strongSelf) { return;} 该代码作用：因为 weak 指针指向的对象，是可能被随时释放的。为了防止 self 在 block 外部被释放，比如其它线程内被释放。</h4><h4 id="uiview-和-calayer-是什么关系">UIView 和 CALayer 是什么关系？</h4><h4 id="calayer-基于-quartzcore-框架">CALayer 基于 QuartzCore 框架</h4><h4 id="uiview-基于-uikit-框架">UIView 基于 UIKit 框架</h4><h4 id="calayer-是继承自-nsobject-的而-uiview-是继承自-uiresponder-的">CALayer 是继承自 NSObject 的,而 UIView 是继承自 UIResponder 的</h4><h4 id="uiview-和-calayer-算是相互补充的关系">UIView 和 CALayer 算是相互补充的关系。</h4><h4 id="uiview--calayerdelegate">UIView = CALayer.delegate</h4><h4 id="uiview--负责用户的交互事件">UIView : 负责用户的交互事件。</h4><h4 id="calayer-负责图像和动画的渲染">CALayer: 负责图像和动画的渲染。</h4><h3 id="wkwebview-跟-js交互">WKWebView 跟 js交互</h3><h4 id="js-调取oc">JS 调取OC</h4><h4 id="方案1-wkusercontentcontroller注册方法监听">方案1: WKUserContentController注册方法监听</h4><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>#pragma mark - WKScriptMessageHandler   
- (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message {
    if ([message.name isEqualToString:@"bf_jsCallNativeMethod"]) {
        NSLog(@"这个是传过来的参数%@",message.body);     
        [self.webView evaluateJavaScript:@"nativeCallbackJscMothod('6666')" completionHandler:^(id _Nullable x, NSError * _Nullable error) {
            NSLog(@"执行完的x==%@,error = %@",x,error.localizedDescription);
        }];
        
    }
}
</pre></table></code></div></div><h4 id="方案2通过拦截wknavigationdelegate代理">方案2:通过拦截WKNavigationDelegate代理</h4><h4 id="通过拦截wknavigationdelegate的代理方法然后匹配目标字符串">通过拦截WKNavigationDelegate的代理方法，然后匹配目标字符串</h4><h4 id="方案3苹果原生apijavascriptcore-ios70-使用">方案3:苹果原生API：JavaScriptCore (iOS7.0+ 使用)</h4><h4 id="主要的两个类">主要的两个类：</h4><h4 id="jscontext--js上下文运行环境可用对象方法去执行js代码evaluatescript可通过上下文对象去获取js里的数据上下文对象key并用jsvalue对象接收">JSContext ： JS上下文(运行环境)，可用对象方法去执行JS代码(evaluateScript)，可通过上下文对象去获取JS里的数据(上下文对象[key])，并用JSValue对象接收</h4><h4 id="jsvalue--用于接收jscontext对象获取的数据可以是任意对象方法">JSValue : 用于接收JSContext对象获取的数据，可以是任意对象，方法。</h4><h3 id="ios内存分区情况">iOS内存分区情况</h3><h4 id="栈区stack">栈区（Stack）</h4><h4 id="由编译器自动分配释放存放函数的参数局部变量的值等">由编译器自动分配释放，存放函数的参数，局部变量的值等</h4><h4 id="栈是向低地址扩展的数据结构是一块连续的内存区域">栈是向低地址扩展的数据结构，是一块连续的内存区域</h4><h4 id="堆区heap">堆区（Heap）</h4><h4 id="由程序员分配释放">由程序员分配释放</h4><h4 id="是向高地址扩展的数据结构是不连续的内存区域">是向高地址扩展的数据结构，是不连续的内存区域</h4><h4 id="全局区">全局区</h4><h4 id="全局变量和静态变量的存储是放在一块的初始化的全局变量和静态变量在一块区域未初始化的全局变量和未初始化的静态变量在相邻的另一块区域">全局变量和静态变量的存储是放在一块的，初始化的全局变量和静态变量在一块区域，未初始化的全局变量和未初始化的静态变量在相邻的另一块区域</h4><h4 id="程序结束后由系统释放">程序结束后由系统释放</h4><h4 id="常量区">常量区</h4><h4 id="常量字符串就是放在这里的">常量字符串就是放在这里的</h4><h4 id="程序结束后由系统释放-1">程序结束后由系统释放</h4><h4 id="代码区">代码区</h4><h4 id="存放函数体的二进制代码">存放函数体的二进制代码</h4><blockquote><p>注： 在 iOS 中，堆区的内存是应用程序共享的，堆中的内存分配是系统负责的 系统使用一个链表来维护所有已经分配的内存空间（系统仅仅记录，并不管理具体的内容） 变量使用结束后，需要释放内存，OC 中是判断引用计数是否为 0，如果是就说明没有任何变量使用该空间，那么系统将其回收 当一个 app 启动后，代码区、常量区、全局区大小就已经固定，因此指向这些区的指针不会产生崩溃性的错误。而堆区和栈区是时时刻刻变化的（堆的创建销毁，栈的弹入弹出），所以当使用一个指针指向这个区里面的内存时，一定要注意内存是否已经被释放，否则会产生程序崩溃（也即是野指针报错）</p></blockquote><h3 id="runtime具体应用">runtime具体应用</h3><ul><li>利用关联对象（AssociatedObject）给分类添加属性<li>遍历类的所有成员变量（修改textfield的占位文字颜色、字典转模型、自动归档解档）<li>交换方法实现（交换系统的方法）<li>利用消息转发机制解决方法找不到的异常问题<li>KVC 字典转模型</ul><h3 id="分类category">分类（category）</h3><h4 id="分类都做了哪些事">分类都做了哪些事</h4><ul><li>声明私有方法<li>分解体积庞大的类文件<li>把Framework私有方法公开</ul><h4 id="特点">特点</h4><ul><li>运行时决议</ul><h3 id="kvc-和-kvo">KVC 和 KVO</h3><h4 id="kvc实现的是值的获取kvo是当值变化时添加相应的操作">kvc实现的是值的获取，kvo是当值变化时，添加相应的操作。</h4><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>// kvc根据属性字符串获取值或者设置值。也可以是path，即点连接的多层属性。
- (id)valueForKey:(NSString *)key;
- (void)setValue:(id)value forKey:(NSString *)key;

- (id)valueForKeyPath:(NSString *)keyPath;
- (void)setValue:(id)value forKeyPath:(NSString *)keyPath;
</pre></table></code></div></div><blockquote><p>KVC在某种程度上提供了替代存取方法（访问器方法）的方案，不过存取方法终究是个好东西，以至于只要有可能，KVC也尽可能先尝试使用存取方法访问属性。当使用KVC访问属性时，它内部其实做了很多事： 1.首先查找有无<property>，set<property>，is<property>等property属性对应的存取方法，若有，则直接使用这些方法; 2.若无，则继续查找_<property>，_get<property>，set<property>等方法，若有就使用； 3.若查询不到以上任何存取方法，则尝试直接访问实例变量<property>，<property>； 4.若连该成员变量也访问不到，则会在下面方法中抛出异常。之所以提供这两个方法，就是让你在因访问不到该属性而程序即将崩掉前，供你重写，在内做些处理，防止程序直接崩掉。 valueForUndefinedKey:和setValue:forUndefinedKey:方法。</property></property></property></property></property></property></property></property></p></blockquote><p>KVO是什么？ Key-Value Obersver，即键值观察。它是观察者模式的一种衍生。基本思想是，对目标对象的某属性添加观察，当该属性发生变化时，会自动的通知观察者。这里所谓的通知是触发观察者对象实现的KVO的接口方法。 ** KVO是解决model和view同步的好法子。**</p><h3 id="blockdelegate作用">block、delegate作用：</h3><ul><li>1.能回调传值<li>2.使对象与对象之间能通信交互<li>3.改变或传递控制链。允许一个类在某些特定时刻通知到其他类，而不需要获取到那些类的指针。可以减少框架复杂度</ul><h3 id="block优缺点">block优缺点</h3><h4 id="block优点">block优点：</h4><ul><li>1.省去了写代理的很多代码<li>2.block 更轻型，使用更简单，能够直接访问上下文，这样类中不需要存储临时数据，使用 block 的代码通常会在同一个地方，这样能连贯读代码</ul><h4 id="block缺点">block缺点：</h4><ul><li>1.block不够安全，使用 block 时稍微不注意就形成循环引用，导致对象释放不了。这种循环引用，一旦出现就比较难检查出来。<li>2.block效率低，block出栈需要将使用的数据从栈内存拷贝到堆内存<li>3.在多个通信事件的时候，block显得不够直观也不易维护。</ul><p>block使用场景： 在1-2个通信事件的时候用block</p><h3 id="delegate优缺点">delegate优缺点：</h3><h4 id="delegate优点">delegate优点：</h4><ul><li>1.delegate更安全， delegate 的方法是分离开的，不会引用上下文，不容易循环引用<li>2.delegate效率高，delegate只是保存了一个对象指针<li>3.在多个通信事件的时候，delegate显得直观也易维护。</ul><h4 id="delegate缺点">delegate缺点：</h4><ul><li>1.因方法的声明和实现分离开来，代码的连贯性不是很好，没有 block 好读<li>2.很多时候需要存储一些临时数据 delegate使用场景： 3个以上通信事件用delegate</ul><h3 id="ios之分类category与类扩展extension">iOS之分类（Category）与类扩展（Extension）</h3><blockquote><p>https://www.jianshu.com/p/cbb4aece70d7</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/post-images/category-extension-diff.png" alt="区别" title="Magic Gardens" /> Category 和Extension的区别</p><blockquote><p>Category是运行时决定生效的，Extension是编译时就决定生效的 Category可以为系统类添加分类，Extension不能 Category是有声明和实现，Extension直接写在宿主.m文件，只有声明 Category只能扩充方法，不能扩充成员变量和属性 如果Category声明了声明了一个属性,那么Category只会生成这个属性的set,get方法的声明,也就不是会实现 在实际开发中要注意的是,Category 方法可能会覆盖于同一个类class 的其它 category 中的方法。但也可能被覆盖，因为不法预知他们的加载优先顺序，出现这种情况通常会在编译时出错。如果在一个开发的SDK中使用了类别， 就最好保证类别名不同于使用者的类别名以及类别方法也不同于使用者的类别方法名， 通常通过加前缀来做到。</p></blockquote><p>其实我们常写的viewcontroller中上面的就是extension</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>// extension
@interface MineViewController ()&lt;UITableViewDelegate&gt;
@property (nonatomic, strong) BaseTableView *tableView;
@end

@implementation MineViewController
- (void)viewDidLoad
{
    ....
}
@end
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>// 使用Category给NSObject添加myMethod方法。
#import 
@interface NSObject (Category)
- (void)myMethod;
@end
</pre></table></code></div></div><h3 id="进程和线程的区别同步异步的区别并行和并发的区别">进程和线程的区别？同步异步的区别？并行和并发的区别</h3><h3 id="怎么理解objective-c是动态运行时语言">怎么理解Objective-C是动态运行时语言。</h3><ul><li>主要是将数据类型的确定由编译时,推迟到了运行时。这个问题其实浅涉及到两个概念,运行时和多态。<li>简单来说, 运行时机制使我们直到运行时才去决定一个对象的类别,以及调用该类别对象指定方法。<li>多态:不同对象以自己的方式响应相同的消息的能力叫做多态。<li>意思就是假设生物类(life)都拥有一个相同的方法-eat;那人类属于生物,猪也属于生物,都继承了life后,实现各自的eat,但是调用是我们只需调用各自的eat方法。也就是不同的对象以自己的方式响应了相同的消 息(响应了eat这个选择器)。因此也可以说,运行时机制是多态的基础.</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%E6%8A%80%E6%9C%AF/'>技术</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/%E9%9A%8F%E7%AC%94/" class="post-tag no-text-decoration" >随笔</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=iOS面试题 - ralbatr&url=https://ralbatr.github.io/posts/ios%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=iOS面试题 - ralbatr&u=https://ralbatr.github.io/posts/ios%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=iOS面试题 - ralbatr&url=https://ralbatr.github.io/posts/ios%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7/">前端监控</a><li><a href="/posts/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/">前端工程化建设</a><li><a href="/posts/%E4%B8%80%E6%AC%A1%E5%89%8D%E7%AB%AF%E7%94%B5%E8%AF%9D%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/">第一次前端电话面试总结</a><li><a href="/posts/%E6%B5%8B%E8%AF%95/">自问自答-1</a><li><a href="/posts/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/">年终总结</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E9%9A%8F%E7%AC%94/">随笔</a> <a class="post-tag" href="/tags/%E5%8D%9A%E5%AE%A2/">博客</a> <a class="post-tag" href="/tags/%E9%9D%A2%E8%AF%95/">面试</a> <a class="post-tag" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a> <a class="post-tag" href="/tags/ios/">iOS</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%E5%91%A8%E6%9C%AB%E5%B0%8F%E8%AE%B02/"><div class="card-body"> <span class="timeago small" > Sep 23, 2021 <i class="unloaded">2021-09-23T05:05:28+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>测试</h3><div class="text-muted small"><p> 离开A公司后，这次一点也不着急找工作。这次找工作第一要离家近。 找工作就是这样，你着急的时候，对方不急，你不急的时候，对方就着急。公司C，本来只是想去练手，面试的时候，是产品面的。因为没有技术面，我内心不安心，感觉这样不安稳。加上去的时候，公司实在拥挤不堪。 其他面试不表 看到一个公司D，说总部在我们这个区。因为这个公司之前在北京，好像还是xxx的子公司。 看公司挺正规的，想着应该技术氛...</p></div></div></a></div><div class="card"> <a href="/posts/%E5%91%A8%E6%9C%AB%E5%B0%8F%E8%AE%B01/"><div class="card-body"> <span class="timeago small" > Dec 4, 2021 <i class="unloaded">2021-12-04T21:46:28+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>周末小记</h3><div class="text-muted small"><p> 许久没有写博客了。因为工作一直没有稳定下来，现在稳定了，写一写这段历。 人生就是这样，你想再等等，另一方则非让你定下来。两次两个截然不同的选择，结局也截然不同。 第一次，老板说，让我定一下，不要这山望着那山高。这个公司，暂称A吧。A公司是一国企的三级子公司。当时去面试，公司位置是不错的。只是老写字楼，格局真的不敢恭维，办公环境真的很一般，本着想休息一下，不想再加班，每天早出晚...</p></div></div></a></div><div class="card"> <a href="/posts/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"><div class="card-body"> <span class="timeago small" > Jan 25 <i class="unloaded">2022-01-25T05:05:28+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>年终总结</h3><div class="text-muted small"><p> 一年一度的年终总结时间到了。去年的拖着没写。今年刚好放假前没事，一边看着swift视频，一边写写。 分几个方面写吧。 工作 本来想把生活放在前面写，但是好像没什么可写，或者离不开工作。所以把工作移到前面。 今年终于下定决心换工作了。之前在某央企，算是挂狗头卖羊肉的那种吧。之前一直在学习前端，因为iOS客户端开发，就业面太窄了。这个时候开始投简历，把公司附近的都投了，也拿了不...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/uniapp-%E5%8E%9F%E7%94%9F%E5%B0%8F%E7%A8%8B%E5%BA%8F/" class="btn btn-outline-primary" prompt="Older"><p>uniapp、原生小程序混合开发</p></a> <a href="/posts/%E5%89%8D%E7%AB%AF%E6%80%BB%E7%BB%93/" class="btn btn-outline-primary" prompt="Newer"><p>前端面试题</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/username">ralbatr</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/%E9%9A%8F%E7%AC%94/">随笔</a> <a class="post-tag" href="/tags/%E5%8D%9A%E5%AE%A2/">博客</a> <a class="post-tag" href="/tags/%E9%9D%A2%E8%AF%95/">面试</a> <a class="post-tag" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a> <a class="post-tag" href="/tags/ios/">iOS</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://ralbatr.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
